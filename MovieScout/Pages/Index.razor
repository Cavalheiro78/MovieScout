
@page "/"
@using MovieScoutShared;
@inject Blazored.LocalStorage.ILocalStorageService localStorage;

<PageTitle>Index</PageTitle>

<div class="row">
    <h1 style="width: 20rem">Trending this</h1>
    <select class="form-select" aria-label="Default select example" style="width: 10rem" @onchange="ChangeContentAsync">
        <option selected value="day">Day</option>
        <option value="week">Week</option>
    </select>
</div>
<div class="row">
@if (Movies != null)
{
    @foreach (Movie movie in Movies)
    {
        <div class="col" style="padding: 0.3rem;">
                <div class="card" style="width: 14rem;">
                <img class="card-img-top" src="@($"https://image.tmdb.org/t/p/w500{movie.poster_path}")" alt="Card image cap">
                <div class="card-body">
                    <h8 class="card-title" style="font-weight: bold;">@movie.title</h8>
                    <div style="display: flex; flex-direction: row; height: 1.3rem">
                        <div style="width: 15%;"><p><i class="fa fa-star" aria-hidden="true" style="color: #F5DE50;"></i></p></div>
                        <div style="width: 60%;"><p style="font-weight: bold;">@Math.Round(movie.vote_average, 1)</p></div>
                    </div>
                    <div style="display: flex; flex-direction: row; height: 1.3rem;">
                        <div style="width: 100%;"><p class="grayout">Vote Count: @movie.vote_count</p></div>
                    </div>
                    <a href="@($"details/{movie.id}")" class="btn btn-primary">Details</a>
                        <button @onclick="() => AddRemoveToFavoritesAsync(movie.id)">
                            <i class="fa fa-heart-o" aria-hidden="true"></i>
                        </button>
                </div>
            </div>
        </div>
    }
}
</div>
